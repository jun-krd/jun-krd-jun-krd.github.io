import{Q as M}from"./QSpace.601fa16e.js";import{Q as Z}from"./QChip.56e9ec7c.js";import{Q as X}from"./QBar.57bcd1b8.js";import{r as i,R as p,S as W,n as o,Z as s,$ as c,a1 as g,V as P,a0 as q,b4 as ke,ab as R,j as xe,p as Ve,o as ye,k as be,a6 as x,h as ee,X as t,Y as V,bu as E,U as m,bK as f,a2 as U,W as Ne,bE as we,a9 as Se,a7 as H,I as le,a5 as _,bO as y,a8 as Ye,b5 as _e,b6 as qe}from"./index.796e9a09.js";import{Q as De}from"./QSelect.a2b6cad7.js";import{Q as Ue}from"./QToolbar.b2280906.js";import{Q as Ae}from"./QTooltip.f083d71e.js";import{Q as Ce}from"./QForm.7bb4004a.js";import{Q as Qe}from"./QPage.976dcdc8.js";import{C as ae}from"./ClosePopup.d4490053.js";import{l as ze}from"./lodash.78b3cd6a.js";import{A as Ie}from"./main.esm.a63d2102.js";import{u as Re}from"./use-quasar.737b824d.js";import{api as F}from"./axios.cdca92d4.js";import{j as oe,n as Fe}from"./json-util.11434787.js";import"./QField.e93cf12f.js";import"./QItemSection.ae9ab285.js";import"./QItemLabel.c03d9e19.js";import"./QMenu.c288f19f.js";import"./position-engine.adea6890.js";import"./selection.e36e704c.js";import"./rtl.276c3f1b.js";import"./_commonjsHelpers.b8add541.js";const We={__name:"TestButton",props:["params"],setup(w){const u=w,{updateSelectedValue:h}=u.params,S=i(u.params.data),A=()=>{h(S)};return(C,a)=>(p(),W("div",null,[o(q,{dense:"","no-caps":"",rounded:"",outline:"",color:"secondary",onClick:A,style:{"min-width":"95px","max-width":"95px"},class:"text-body2"},{default:s(()=>[o(c,{name:"search",size:"14px",class:"q-pt-xs"}),g(" "+P(S.value.progId),1)]),_:1})]))}};const te=w=>(_e("data-v-139107eb"),w=w(),qe(),w),Ge=te(()=>m("span",{class:"text-subtitle2 q-px-sm"},"\uD504\uB85C\uADF8\uB7A8\uC815\uBCF4 \uB9AC\uC2A4\uD2B8",-1)),Be={class:"q-gutter-xs q-mr-md"},Me={key:0},Ee={class:"q-gutter-xs"},He={class:"col-6 text-right"},Pe={key:0},Te={key:0},$e=te(()=>m("div",null,"\uD504\uB85C\uADF8\uB7A8 \uC815\uBCF4\uAD00\uB9AC",-1)),je={class:"row justify-start q-col-gutter-x-md"},Oe={class:"col-5"},Je={class:"col-7 q-pt-md q-col-gutter-x-xs"},Le={class:"row justify-start q-col-gutter-x-md"},Ke={class:"col-8"},Ze={class:"col-4"},Xe={class:"row justify-start q-col-gutter-x-md"},el={class:"col-8"},ll={class:"col-4"},al={__name:"SysV5010",setup(w){const u=Re(),h=i("menu"),S=i(!0),A=i(null),C=i(!1),a=i(null),G=i(null),Y=i(!1),v=i(!1),d=R({iconNm:"",message:"",color:""});let b=null;const T=i(window.innerHeight),$=i(500),ne=xe(()=>({height:`${$.value}px`})),B=()=>{T.value=window.innerHeight,$.value=T.value-j.value-140},j=i(0),se=n=>(j.value=n,{minHeight:n?`calc(100vh - ${n}px)`:"100vh"});Ve(()=>{window.removeEventListener("resize",B)}),ye(()=>{window.addEventListener("resize",B),B()}),be(()=>{L(),A.value="multiple"});const Q=i([]),O=()=>{S.value=!0,v.value||N.value.deselectAll()},re=n=>{Q.value=n.api.getSelectedRows(),Q.value.length>0?(Y.value=!0,v.value||(d.iconNm="edit_note",d.message="\uC0AD\uC81C\uBAA8\uB4DC \uC785\uB2C8\uB2E4",d.color="negative")):(Y.value=!1,d.iconNm="",d.message="",d.color="")},k={setup(n){const{params:e}=n;return e.value==="Y"?()=>ee(c,{name:"check",color:"",size:"sm"}):()=>{}}},ue={setup(n){const{params:e}=n;return()=>ee(c,{name:e.value,color:"",size:"xs"})}},de=R({def:{flex:1,minWidth:180,sortable:!0,filter:!0,floatingFilter:!1}}),ie=R({columns:[{headerName:"",field:"",minWidth:50,maxWidth:50,checkboxSelection:!0,headerCheckboxSelection:!0,editable:!1,filter:!1,sortable:!1,pinned:"left"},{headerName:"\uAD00\uB9AC\uCF54\uB4DC",field:"progId",minWidth:140,maxWidth:140,editable:!1,filter:!0,sortable:!0,resizable:!1,pinned:"left",cellRenderer:We,cellRendererParams:{updateSelectedValue:n=>{C.value=!1,v.value=!0,S.value=!1,b="U",d.iconNm="edit_note",d.message="\uC218\uC815\uBAA8\uB4DC \uC785\uB2C8\uB2E4",d.color="orange",a.value={...n.value},G.value=JSON.parse(JSON.stringify(n.value))}}},{headerName:"\uD504\uB85C\uADF8\uB7A8\uBA85",field:"progNm",minWidth:180,pinned:"left"},{headerName:"Location",field:"location",minWidth:110,cellStyle:{textAlign:"center"}},{headerName:"\uC720\uD615",field:"menuFg",minWidth:80,cellStyle:{textAlign:"center"}},{headerName:"\uC21C\uC11C",field:"menuSeq",minWidth:80,cellStyle:{textAlign:"center"},valueFormatter:n=>{const e=parseFloat(n.value);return isNaN(e)?"":e.toFixed(0)}},{headerName:"Icon",field:"iconNm",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:ue},{headerName:"\uC870\uD68C",field:"scrYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uC2E0\uADDC",field:"newYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uC218\uC815",field:"dbgYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uC0AD\uC81C",field:"delYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uCD9C\uB825",field:"rptYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uC5D1\uC140",field:"excYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uB9C8\uAC10",field:"locYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uC2B9\uC778",field:"appYn",minWidth:80,cellStyle:{textAlign:"center"},cellRenderer:k},{headerName:"\uC124\uBA85",field:"explains"}]});window.extractKeys=function(e){return e.map(l=>l.id)};const N=i(),J=R({rows:[]}),ce=n=>{N.value=n.api},L=()=>{fe(),z()},me=()=>{b="I",C.value=!0,v.value=!0,d.color="primary",d.message="\uC2E0\uADDC\uBAA8\uB4DC\uC785\uB2C8\uB2E4",d.iconNm="edit";const n={progId:"",progNm:"",location:"",menuFg:"M",menuSeq:0,iconNm:"fas fa-desktop fa-fw",scrYn:"N",newYn:"N",dbgYn:"N",delYn:"N",rptYn:"N",excYn:"N",locYn:"N",appYn:"N",explains:"",oldProgId:""};a.value=n,G.value={}},pe=()=>{u.dialog({dark:!0,title:"\uC790\uB8CC\uC0AD\uC81C",message:"\uC120\uD0DD\uB41C \uC790\uB8CC\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? ",ok:{push:!0,color:"negative"},cancel:{push:!0,color:"grey-7"}}).onOk(()=>{b="D";let n=[],e=[];for(let l=0;l<Q.value.length;l++){let r='{"mode":"U","data":'+JSON.stringify(Q.value[l])+"}";e.push(r)}K(oe.jsonFiller(n,e))}).onCancel(()=>{}).onDismiss(()=>{})},ve=()=>{v.value=!1,ze.exports.isEqual(a.value,G.value)?u.dialog({dark:!0,title:"\uC548\uB0B4",message:"\uBCC0\uACBD\uB41C \uC790\uB8CC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. "}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{}):K(oe.dataJsonParse(b,a.value))},K=n=>{F.post("/api/sys/sys5010_save",n).then(e=>{let l={};if(e.data.rtn==="0"){if(b==="I"){l.rtn=1,l.rtn1=e.data.rtnMsg1,l.rtn2="\uC2E0\uADDC\uCD94\uAC00 \uC644\uB8CC",a.value.oldProgId=a.value.progId;let r=[a.value];N.value.applyTransaction({add:r,addIndex:0})}else if(b==="U"){l.rtn=0,l.rtn1=e.data.rtnMsg1,l.rtn2="\uC218\uC815 \uC644\uB8CC";const r=N.value.getSelectedRows();r[0].progId=a.value.progId,r[0].oldProgId=a.value.progId,r[0].progNm=a.value.progNm,r[0].location=a.value.location,r[0].menuFg=a.value.menuFg,r[0].iconNm=a.value.iconNm,r[0].scrYn=a.value.scrYn,r[0].newYn=a.value.newYn,r[0].dbgYn=a.value.dbgYn,r[0].delYn=a.value.delYn,r[0].rptYn=a.value.rptYn,r[0].locYn=a.value.locYn,r[0].appYn=a.value.appYn,r[0].excYn=a.value.excYn,r[0].explains=a.value.explains,r[0].menuSeq=a.value.menuSeq,N.value.applyTransaction({update:r})}else if(b==="D"){l.rtn=2,l.rtn1=e.data.rtnMsg1,l.rtn2="\uC0AD\uC81C \uC644\uB8CC";const r=N.value.getSelectedRows();N.value.applyTransaction({remove:r})}}else l.rtn=e.data.rtn,l.rtn1=e.data.rtnMsg1,l.rtn2=e.data.rtnMsg2;Fe.notifyView(l)}).catch(e=>{console.log("error: ",e)})},z=async()=>{try{let n=null;h.value==="group"?n=await F.post("/api/sys/sys5010_group_list",{groupCd:D.value}):n=await F.post("/api/sys/sys5010_menu_list",{groupCd:D.value}),J.rows=n.data.data}catch(n){console.error("Error fetching users:",n)}},I=i([]),D=i(null),fe=async()=>{try{const n=await F.post("/api/sys/prog_group_list",{paramUserId:""});I.value=[],I.value.push({groupNm:"\uC804\uCCB4",groupCd:""}),n.data.data.forEach(e=>{I.value.push(e)}),D.value=null}catch(n){console.error("Error fetching users:",n)}},ge=n=>{z()},he=()=>{O()};return(n,e)=>(p(),x(Qe,{class:"q-pa-xs-xs q-pa-sm-md","style-fn":se},{default:s(()=>[o(H,{bordered:""},{default:s(()=>[o(X,{class:"q-px-sm"},{default:s(()=>[o(t(c),{name:"list_alt"}),Ge,o(M),v.value||Y.value?(p(),x(Z,{key:0,size:"sm",outline:"",color:d.color,class:"q-px-md"},{default:s(()=>[o(t(c),{name:d.iconNm,class:"q-mr-sm",size:"15px"},null,8,["name"]),g(" "+P(d.message),1)]),_:1},8,["color"])):V("",!0)]),_:1}),o(E,{class:"q-pa-xs"},{default:s(()=>[o(Ue,{class:"row"},{default:s(()=>[m("div",Be,[o(f,{modelValue:h.value,"onUpdate:modelValue":[e[0]||(e[0]=l=>h.value=l),z],val:"menu",label:"\uC804\uCCB4"},null,8,["modelValue"]),o(f,{modelValue:h.value,"onUpdate:modelValue":[e[1]||(e[1]=l=>h.value=l),z],val:"group",label:"\uADF8\uB8F9\uB9CC"},null,8,["modelValue"])]),h.value==="menu"?(p(),x(De,{key:0,dense:"","options-dense":"",class:"q-pb-sm q-pl-sm q-mr-lg","label-color":"orange",modelValue:D.value,"onUpdate:modelValue":[e[2]||(e[2]=l=>D.value=l),ge],options:I.value,"option-value":"groupCd","option-label":"groupNm","option-disable":"inactive","emit-value":"","map-options":"",style:{"min-width":"150px","max-width":"150px"},label:"\uADF8\uB8F9\uC120\uD0DD"},null,8,["modelValue","options"])):V("",!0),o(t(q),{dense:"",outline:"",class:"q-px-md",color:"teal","on:click":e[3]||(e[3]=l=>L())},{default:s(()=>[o(t(c),{name:"refresh",size:"xs",class:"q-pr-sm-sm"}),t(u).screen.gt.sm?(p(),W("span",Me,"\uB2E4\uC2DC\uBD88\uB7EC\uC624\uAE30")):V("",!0)]),_:1}),o(M),m("div",Ee,[m("div",He,[Y.value?V("",!0):(p(),x(t(q),{key:0,dense:"",outline:"",class:"q-px-md",color:"teal","on:click":e[4]||(e[4]=l=>me())},{default:s(()=>[o(t(c),{name:"add",size:"xs",class:"q-pr-sm-sm"}),t(u).screen.gt.sm?(p(),W("span",Pe,"\uC2E0\uADDC")):V("",!0)]),_:1})),Y.value&&!v.value?(p(),x(t(q),{key:1,dense:"",outline:"",class:"q-px-md",color:"negative","on:click":e[5]||(e[5]=l=>pe())},{default:s(()=>[o(t(c),{name:"delete",size:"xs",class:"q-pr-sm-sm"}),t(u).screen.gt.sm?(p(),W("span",Te,"\uC0AD\uC81C")):V("",!0)]),_:1})):V("",!0)])])]),_:1})]),_:1}),o(U,{size:"3px"}),o(E,{class:"q-pa-xs"},{default:s(()=>[m("div",{style:we(ne.value)},[o(t(Ie),{style:{width:"100%",height:"100%"},class:Ne(t(u).dark.isActive?"ag-theme-alpine-dark":"ag-theme-alpine"),columnDefs:ie.columns,onGridReady:ce,defaultColDef:de.def,rowData:J.rows,pagination:!1,rowSelection:A.value,onSelectionChanged:re,onRowClicked:O,suppressRowClickSelection:S.value},null,8,["class","columnDefs","defaultColDef","rowData","rowSelection","suppressRowClickSelection"])],4)]),_:1}),o(Se,{persistent:"",modelValue:v.value,"onUpdate:modelValue":e[27]||(e[27]=l=>v.value=l),onHide:he},{default:s(()=>[o(H,{flat:"",bordered:"",style:{"max-width":"450px",width:"100%"}},{default:s(()=>[o(X,null,{default:s(()=>[o(t(c),{name:"list_alt"}),$e,o(M),v.value||Y.value?(p(),x(Z,{key:0,size:"sm",outline:"",color:d.color,class:"q-px-md"},{default:s(()=>[o(t(c),{name:d.iconNm,class:"q-mr-sm",size:"15px"},null,8,["name"]),g(" "+P(d.message),1)]),_:1},8,["color"])):V("",!0),le((p(),x(t(q),{dense:"",flat:"",icon:"close"},{default:s(()=>[o(Ae,null,{default:s(()=>[g(" \uB2EB\uAE30 ")]),_:1})]),_:1})),[[ae]])]),_:1}),o(Ce,{class:""},{default:s(()=>[o(H,{class:"q-pa-md"},{default:s(()=>[o(E,null,{default:s(()=>[m("div",je,[m("div",Oe,[o(_,{autofocus:C.value,class:"q-pb-md",modelValue:a.value.progId,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.progId=l),color:t(u).dark.isActive?"orange":"teal","label-color":t(u).dark.isActive?"orange":"teal",label:"\uD504\uB85C\uADF8\uB7A8ID"},null,8,["autofocus","modelValue","color","label-color"])]),m("div",Je,[o(f,{modelValue:a.value.menuFg,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.menuFg=l),val:"G","keep-color":"",color:"teal",label:"\uADF8\uB8F9"},null,8,["modelValue"]),o(f,{modelValue:a.value.menuFg,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.menuFg=l),val:"M","keep-color":"",color:"blue",label:"\uBA54\uB274"},null,8,["modelValue"]),o(f,{modelValue:a.value.menuFg,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.menuFg=l),val:"S","keep-color":"",color:"orange",label:"\uC11C\uBE0C"},null,8,["modelValue"]),o(U,{color:"grey"})])]),m("div",Le,[m("div",Ke,[o(_,{class:"q-pb-md",modelValue:a.value.progNm,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.progNm=l),color:t(u).dark.isActive?"orange":"teal","label-color":t(u).dark.isActive?"orange":"teal",label:"\uD504\uB85C\uADF8\uB7A8 \uBA85"},null,8,["modelValue","color","label-color"])]),m("div",Ze,[o(_,{class:"q-pb-md",modelValue:a.value.location,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.location=l),color:t(u).dark.isActive?"orange":"teal","label-color":t(u).dark.isActive?"orange":"teal",label:"Location"},null,8,["modelValue","color","label-color"])])]),m("div",Xe,[m("div",el,[o(_,{readonly:a.value.menuFg==="M",modelValue:a.value.iconNm,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.iconNm=l),color:t(u).dark.isActive?"orange":"teal","label-color":t(u).dark.isActive?"orange":"teal",label:"\uAE30\uBCF8 \uC544\uC774\uCF58"},null,8,["readonly","modelValue","color","label-color"])]),m("div",ll,[o(_,{type:"number",class:"q-pb-md",modelValue:a.value.menuSeq,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.menuSeq=l),color:t(u).dark.isActive?"orange":"teal","label-color":t(u).dark.isActive?"orange":"teal",label:"\uBA54\uC778\uC21C\uC11C"},null,8,["modelValue","color","label-color"])])]),o(f,{disable:a.value.menuFg==="G",size:"45px","keep-color":"",modelValue:a.value.iconNm,"onUpdate:modelValue":e[14]||(e[14]=l=>a.value.iconNm=l),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"fas fa-edit fa-fw",color:"primary"},{default:s(()=>[o(t(c),{name:"fas fa-edit fa-fw"}),g(" \uC785\uB825 ")]),_:1},8,["disable","modelValue"]),o(f,{disable:a.value.menuFg==="G",size:"45px","keep-color":"",modelValue:a.value.iconNm,"onUpdate:modelValue":e[15]||(e[15]=l=>a.value.iconNm=l),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"fas fa-desktop fa-fw",color:"primary"},{default:s(()=>[o(t(c),{name:"fas fa-desktop fa-fw"}),g(" \uC870\uD68C ")]),_:1},8,["disable","modelValue"]),o(f,{disable:a.value.menuFg==="G",size:"45px","keep-color":"",modelValue:a.value.iconNm,"onUpdate:modelValue":e[16]||(e[16]=l=>a.value.iconNm=l),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"fas fa-print fa-fw",color:"primary"},{default:s(()=>[o(t(c),{name:"fas fa-print fa-fw"}),g(" \uCD9C\uB825 ")]),_:1},8,["disable","modelValue"]),o(f,{disable:a.value.menuFg==="G",size:"45px","keep-color":"",modelValue:a.value.iconNm,"onUpdate:modelValue":e[17]||(e[17]=l=>a.value.iconNm=l),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"fas fa-check fa-fw",color:"primary"},{default:s(()=>[o(t(c),{name:"fas fa-check fa-fw"}),g(" \uC2B9\uC778 ")]),_:1},8,["disable","modelValue"]),o(U,{spaced:"md",color:"grey",size:"2px"}),o(t(y),{modelValue:a.value.scrYn,"onUpdate:modelValue":e[18]||(e[18]=l=>a.value.scrYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",color:"primary",label:"\uC870\uD68C"},null,8,["modelValue"]),o(t(y),{modelValue:a.value.newYn,"onUpdate:modelValue":e[19]||(e[19]=l=>a.value.newYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",color:"primary",label:"\uC2E0\uADDC"},null,8,["modelValue"]),o(t(y),{modelValue:a.value.dbgYn,"onUpdate:modelValue":e[20]||(e[20]=l=>a.value.dbgYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",color:"primary",label:"\uC218\uC815"},null,8,["modelValue"]),o(t(y),{modelValue:a.value.delYn,"onUpdate:modelValue":e[21]||(e[21]=l=>a.value.delYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",color:"primary",label:"\uC0AD\uC81C"},null,8,["modelValue"]),o(t(y),{modelValue:a.value.rptYn,"onUpdate:modelValue":e[22]||(e[22]=l=>a.value.rptYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",label:"\uCD9C\uB825"},null,8,["modelValue"]),o(t(y),{modelValue:a.value.excYn,"onUpdate:modelValue":e[23]||(e[23]=l=>a.value.excYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",label:"\uC5D1\uC140"},null,8,["modelValue"]),o(t(y),{modelValue:a.value.locYn,"onUpdate:modelValue":e[24]||(e[24]=l=>a.value.locYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",color:"primary",label:"\uB9C8\uAC10"},null,8,["modelValue"]),o(t(y),{modelValue:a.value.appYn,"onUpdate:modelValue":e[25]||(e[25]=l=>a.value.appYn=l),"true-value":"Y","false-value":"N","checked-icon":"check","unchecked-icon":"clear",color:"primary",label:"\uC2B9\uC778"},null,8,["modelValue"]),o(U,{spaced:"md",color:"grey",size:"2px"}),o(_,{type:"textarea",class:"q-pt-sm",modelValue:a.value.explains,"onUpdate:modelValue":e[26]||(e[26]=l=>a.value.explains=l),color:t(u).dark.isActive?"orange":"teal","label-color":t(u).dark.isActive?"orange":"teal",label:"\uC124\uBA85",autogrow:""},null,8,["modelValue","color","label-color"])]),_:1})]),_:1})]),_:1}),o(U,{size:"2px",color:"grey"}),o(Ye,{align:"right",class:"q-pa-md"},{default:s(()=>[le((p(),x(t(q),{color:"primary",onClick:ve},{default:s(()=>[o(t(c),{class:"q-mr-xs",name:"save",size:"xs"}),g(" \uC800\uC7A5 ")]),_:1})),[[ae]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};var Yl=ke(al,[["__scopeId","data-v-139107eb"]]);export{Yl as default};
